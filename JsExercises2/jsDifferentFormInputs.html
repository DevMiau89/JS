<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
<form name="oForm" id="myForm" method="post" action="#">
    <div>
        <label for="name">Imię:</label>
        <input type="text" name="name" id="name" value="" />
    </div>
    <div id="before">
        <label for="email">E-mail:</label>
        <input type="email" name="email" id="email" value="" />
    </div>

    <fieldset>
        <legend>Wybierz płeć</legend>
        <input type="radio" value="m" name="gender" checked="checked" /> m
        <input type="radio" value="k" name="gender" /> k
    </fieldset>
    <br>
    <fieldset>
        <legend>Wybierz dwa (2) ulubione owoce</legend>
        <input type="checkbox" value="jagoda" name="color" /> niebieski
        <input type="checkbox" value="jablko" name="color" /> czerwony
        <input type="checkbox" value="arbuz" name="color" /> zielony
        <input type="checkbox" value="pomarancz" name="color" /> pomarańcz
    </fieldset>
    <br>
    <select name="eyeColor">
        <option value="-1">wybierz kolor</option>
        <option value="niebieskie">niebieskie</option>
        <option value="zielone">zielone</option>
        <option value="bronzowe">bronzowe</option>
        <option value="czarne">czarne</option>
    </select>

    <div>
        <br>
        <button type="submit">Zapisz</button>
    </div>
</form>

<script>
    var ref = document.querySelector('div#before');
    let form = document.getElementById('myForm');
    form.style.display = '';
    form.setAttribute('target', '_blank');

    let div = document.createElement('div');
    let label = document.createElement('label');
    let input = document.createElement('input');

    label.setAttribute('for', 'phone');
    label.innerText='Phone Number: ';
    input.setAttribute('type', 'text');
    input.setAttribute('name', 'phone');
    input.setAttribute('type', 'text');
    input.setAttribute('id', 'phone');
    input.setAttribute('placeholder', '202-456-1111');
    input.setAttribute('pattern', '^(\([0-9]{3}\)|[0-9]{3}-)[0-9]{3}-[0-9]{4}$');
    input.setAttribute('required', 'true');
    div.appendChild(label);
    div.appendChild(input);

    ref.parentNode.insertBefore(div, ref.nextSibling);



    function checker(e) {
        const checkboxes = document.querySelectorAll('input[name=color]:checked').length;
        e.preventDefault();
        if (checkboxes > 1) {
            alert('yolo');
            return form.submit();
        }else{
            alert('Need to pick two colors');
            return false;
        }

    }

    function genderChecker(e) {
        e.preventDefault();
        const male = document.querySelectorAll('input[name=gender]')[0];
        if(male.checked){
            alert('Male picked');
        }else{
            alert('Female picked');
        }
        return form.submit();
    }

    function eyeColorChecker(e) {
        e.preventDefault();
        const select = document.querySelector('select[name="eyeColor"]');
        const eyeColor = select.options[select.selectedIndex].value;
        if(document.querySelector('select[name=eyeColor]').selectedIndex){
            alert('Your eyes are ' + eyeColor);
            return form.submit();
        }else{
            alert('You need to select value');
            return false;
        }
    }

    form.addEventListener('submit', eyeColorChecker);
</script>
<noscript>
   <h1>You've turned off your js. You are one messed up person. Haha</h1>
</noscript>
</body>
</html>