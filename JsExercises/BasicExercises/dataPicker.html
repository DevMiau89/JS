<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data Picker</title>
    <style>
     /* wrapper dla inputa kalendarza */
    .input-calendar-cnt {
        position: relative;
        display: inline-block;
    }

    /* input kalendarza */
    .input-calendar {
        background-image: url(./icon-calendar.png);
        background-position: 99% center;
        background-repeat: no-repeat;
        border:1px solid #ddd;
        cursor:pointer;
    }

    /* kalendarz */
    .calendar {
        position: absolute;
        top:100%;
        left:0;
        width: 300px;
        background: #fff;
        min-height: 300px;
        padding: 5px;
        border: 1px solid #ddd;
        box-shadow:2px 2px 1px rgba(0,0,0,0.1);
        font-family: sans-serif;
        display: block;
        z-index: 100;
    }
    /* przyciski prev-next */
    .calendar-prev-next {
        height:30px;
        display: flex;
        justify-content: space-between;
    }
    .calendar .input-prev,
    .calendar .input-next {
        position: relative;
        z-index: 1;
        cursor:pointer;
        width: 30px;
        font-family: sans-serif;
        background-color: transparent;
        border:0;
        color: #333;
    }
    .calendar .input-prev:hover,
    .calendar .input-next:hover {
        background:#D1EBFD;
    }

    /* nazwa miesiąca i roku */
    .calendar .date-name {
        font-size:12px;
        color: #666;
        padding: 0 40px;
        text-align: center;
        line-height: 30px;
        position: absolute;
        left:0;
        top:0;
        width:100%;
        text-align: center;
        box-sizing: border-box;
    }

    /* nagłówek kalendarza */
    .calendar .calendar-header {
        height:30px;
        position: relative;
    }

    /* tabela kalendarza */
    .calendar .calendar-table-cnt {
        position: relative;
        padding-top:10px;
    }
    .calendar .calendar-table {
        font-size:12px;
        color: #666;
        width: 100%;
    }
    .calendar .calendar-table td {
        text-align: center;
        width:14.2857%;
    }
    .calendar .calendar-table th {
        font-family: sans-serif;
        font-weight: normal;
        padding-bottom: 10px;
        font-size:11px;
        color:#aaa;
    }
    .calendar .calendar-table td.day {
        background: #fafafa;
        height:40px;
        font-size:11px;
        font-family: sans-serif;
        font-weight:bold;
    }
    .calendar .calendar-table td.day:hover {
        background: #D1EBFD;
        cursor: pointer
    }
    .calendar .calendar-table td.current-day {
        background-color: #F15C5C;
        color:#fff;
    }
    .calendar .calendar-table td.current-day:hover {
        background-color: #DE5858;
    }
    .input-calendar-cnt {
    position: relative;
}
    .calendar {
        position: absolute;
        top:100%;
        left:0;
        width: 300px;
        background: #fff;
        min-height: 300px;
        padding: 5px;
        border: 1px solid #ddd;
        box-shadow:2px 2px 1px rgba(0,0,0,0.1);
        font-family: sans-serif;
        display: none;
        z-index: 1;
    }
    .calendar.calendar-show {
        display: block;
    }
    </style>
</head>
<body>
    <script>
        function Calendar() {
            this.now = new Date();
            this.date = this.now.getDate();
            this.month = this.now.getMonth();
            this.year = this.now.getFullYear();

            this.input = input;
            this.divCnt = null;
            this.divHeader = null;
            this.divTable = null;
            this.divDateText = null;
            this.divButtons = null;


            this.init = function () {
                this.divCnt = document.createElement('div');
                this.divCnt.classList.add('calendar');

                this.divButtons = document.createElement('div');
                this.divButtons.classList.add('calendar-prev-next');

                this.divDateText = document.createElement('div');
                this.divDateText.className = 'date-name';

                this.divHeader = document.createElement('div');
                this.divHeader.classList.add('calendar-header');

                this.divHeader.appendChild(this.divButtons);
                this.divHeader.appendChild(this.divDateText);
                this.divCnt.appendChild(this.divHeader);

                //tworzymy div do którego trafi tabela kalendarza
                this.divTable = document.createElement('div');
                this.divTable.className = 'calendar-table-cnt';
                this.divCnt.appendChild(this.divTable);

                this.calendarWrapper = document.createElement('div');
                this.calendarWrapper.classList.add('input-calendar-cnt');
                this.input.parentElement.insertBefore(this.calendarWrapper, this.input);
                this.calendarWrapper.appendChild(this.input);

                this.toggleShow = function() {
                this.divCnt.classList.toggle('calendar-show');
                };

                this.show = function() {
                this.divCnt.classList.add('calendar-show');
                };

                this.hide = function() {
                this.divCnt.classList.remove('calendar-show');
                };


                this.input.addEventListener('click', function () {
                    this.toggleShow();
                }).bind(this);

                this.divCnt.addEventListener('click', function(e){
                    e.stopPropagation();
                });

                this.input.addEventListener('click', function(e){
                    e.stopPropagation();
                });

                document.addEventListener('click', function(){
                    this.hide();
                }).bind(this);
            };


        };
        const input = document.querySelector('.input-demo2');
        const cal = new Calendar(input);
        cal.init();
    </script>
</body>
</html>
